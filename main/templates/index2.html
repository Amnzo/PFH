{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Habitat - Ensemble, assurons votre confort</title>
      <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="{% static 'img/logo.png' %}" alt="Performance Habitat Logo" class="logo-img">
                    <div class="logo-text">
                        <div class="logo-title">Performance <span>Habitat</span></div>
                        <div class="logo-subtitle">NEUF & R√âNOVATION - Ensemble, assurons votre confort</div>
                    </div>
                </div>

                <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>

                <div class="header-slogan">SUBLIMONS ET R√âNOVONS VOTRE HABITAT</div>

                <ul class="nav-menu" id="navMenu">
                    <li><a href="#accueil">Accueil</a></li>
                    <li><a href="#apropos">√Ä propos</a></li>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#pompe-chaleur">Pompe √† chaleur</a></li>
                    <li><a href="#realisations">R√©alisations</a></li>
                    <li><a href="#temoignages">T√©moignages</a></li>
                    <li><a href="#zone">Zone</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li>
                        <a href="https://www.instagram.com/performancehabitat29/" target="_blank" class="nav-instagram">
                            Instagram
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </header>

   <section id="accueil" class="hero">
    <div class="slider-container">

        <!-- Overlay sombre -->
        <div class="slider-overlay"></div>

        <div class="slider-item active">
            <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=600&fit=crop" alt="projet 0">
        </div>
        <div class="slider-item">
            <img src="https://images.unsplash.com/photo-1552321554-5fefe8c9ef14?w=1200&h=600&fit=crop" alt="Projet 1">
        </div>
        <div class="slider-item">
            <img src="https://images.unsplash.com/photo-1585704032915-c3400ca199e7?w=1200&h=600&fit=crop" alt="Projet 2">
        </div>

        <div class="hero-content">
            <h1>L'interlocuteur <span>unique pour tous vos travaux</span></h1>
           <p class="services">Plomberie - Chauffage - √âlectricit√© - Carrelage & Sols - Cloisons S√®ches - Peinture</p>

            <button class="cta-button" onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'})">Demander un devis gratuit</button>
        </div>

        <div class="slider-controls" id="sliderControls"></div>
        <div class="slider-arrow slider-prev" onclick="prevSlide()">‚ùÆ</div>
        <div class="slider-arrow slider-next" onclick="nextSlide()">‚ùØ</div>

    </div>
</section>



    <section id="apropos" class="section">
        <div class="container">
            <h2 class="section-title">√Ä propos de <span>Performance Habitat</span></h2>
            <p class="section-subtitle">Votre artisan sp√©cialiste en r√©novation et am√©lioration √©nerg√©tique</p>

            <div class="about-content">
                <div class="about-text">
                    <h3>Votre expert en r√©novation</h3>
                    <p>Performance Habitat est votre partenaire privil√©gi√© pour tous vos projets de r√©novation et d'am√©lioration de l'habitat dans la r√©gion brestoise.</p>
                    <p>Nous intervenons pour des projets de toutes envergures : de la simple r√©paration √† la r√©novation compl√®te, en mettant l'accent sur la qualit√© des finitions et le respect de votre budget.</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">15+</div>
                        <div class="stat-label">Ann√©es d'exp√©rience</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">Projets r√©alis√©s</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Clients satisfaits</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

   <section id="services" class="section section-alt">
        <div class="container">
            <h2 class="section-title">Nos <span>Services</span></h2>
            <p class="section-subtitle">Des solutions compl√®tes pour tous vos projets de r√©novation</p>
            <div class="services-grid">
                {% for service in services %}
                <div class="service-card">
                    {% if service.image %}
                    <div class="service-image">
                        <img src="{{ service.image.url }}" alt="{{ service.titre }}" class="service-img">
                    </div>
                    {% endif %}
                    <div class="service-card-content">
                        <h3>{{ service.titre }}</h3>
                        <p>{{ service.description }}</p>
                        {% if service.details.all %}
                        <ul>
                            {% for detail in service.details.all %}
                            <li>{{ detail.texte }}</li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                    </div>
                </div>
                {% empty %}
                <p style="color: var(--gris-clair); text-align: center; grid-column: 1/-1;">Nos services seront bient√¥t disponibles.</p>
                {% endfor %}
            </div>
        </div>
    </section>

<section id="pompe-chaleur" class="section">
  <div class="container">
    <h2 class="section-title">Pompe √† <span>Chaleur</span></h2>
    <div class="about-content">

      <div class="about-text">
        <h3 class="uppercase font-bold" style="color: var(--vert-fluo);">Pompe √† Chaleur (PAC)</h3>

        <p class="text-lg">
          <strong>Nous assurons le remplacement complet de votre ancienne pompe √† chaleur</strong> :
          d√©pose propre, pr√©paration de l‚Äôespace, installation du nouveau syst√®me et mise en service.
        </p>

        <p>Notre intervention inclut :</p>

        <ul class="list-disc pl-5" style="color: var(--gris-clair); line-height:1.6;">
          <li>D√©connexion et retrait s√©curis√© de l‚Äôancienne installation</li>
          <li>D√©montage et √©vacuation des unit√©s int√©rieures et ext√©rieures</li>
          <li>Nettoyage et pr√©paration du nouvel emplacement</li>
          <li>Raccordements √©lectriques et hydraulique pr√©cis</li>
          <li>Param√©trage, tests, et mise en service du nouveau syst√®me</li>
        </ul>

        <p class="mt-4">
          Nous installons des syst√®mes <strong>Air-Air et Air-Eau</strong>, param√©tr√©s pour offrir :
        </p>

        <ul style="color: var(--vert-fluo); font-weight:600; font-size:0.85rem; display:grid; grid-template-columns:1fr 1fr; gap:0.5rem; margin-top:0.3rem;">
          <li>Meilleur rendement √©nerg√©tique</li>
          <li>Fonctionnement plus silencieux</li>
          <li>R√©gulation adapt√©e √† l‚Äôhabitation</li>
          <li>Installation durable et fiable</li>
        </ul>

        <div style="background:#2a3b4c; padding: 0.9rem; border-radius: 10px; margin-top:1.2rem; text-align:center; color:var(--gris-clair); font-weight:500;">
          üîß <strong style="color:var(--vert-fluo);">Service :</strong> D√©pose ‚Üí Installation ‚Üí Mise en service
        </div>

      </div>

      <div>
        <div style="background:#34495e; padding:2rem; border-radius:15px; text-align:center; height:100%; display:flex; flex-direction:column; justify-content:center;">
          <div style="font-size:3.5rem; margin-bottom:1rem;">üå°Ô∏è</div>
          <h3 style="color:var(--vert-fluo); margin-bottom:0.8rem;">Installation Professionnelle</h3>
          <p style="color:var(--gris-clair); font-size:0.95rem; font-weight:500; line-height:1.5;">
            Un remplacement ma√Ætris√© et une installation rigoureuse pour garantir un chauffage performant et fiable.
          </p>
        </div>
      </div>

    </div>
  </div>
</section>


    <section id="realisations" class="section section-alt">
        <div class="container">
            <h2 class="section-title">Nos <span>R√©alisations</span></h2>
            <p class="section-subtitle">D√©couvrez quelques-uns de nos projets r√©cents</p>
            <div class="realisation-grid">
                {% for projet in projects %}
                <div class="realisation-card" onclick="openProjectGallery('{{ projet.id }}')">
                    {% if projet.image %}
                    <div class="realisation-image">
                        <img src="{{ projet.image.url }}" alt="{{ projet.titre }}">
                        {% if projet.images.count > 0 %}
                        <div class="image-badge">
                            üì∑ +{{ projet.images.count }} photos
                        </div>
                        {% endif %}
                    </div>
                    {% endif %}
                    <div class="realisation-content">
                        <h3>{{ projet.titre }}</h3>
                        <p>{{ projet.description|safe|truncatewords_html:30 }}</p>
                    </div>
                </div>
                {% empty %}
                <p style="color: var(--gris-clair); text-align: center; grid-column: 1/-1;">Nos r√©alisations seront bient√¥t disponibles.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="temoignages" class="section">
        <div class="container">
            <h2 class="section-title">T√©moignages <span>Clients</span></h2>
            <p class="section-subtitle">Ce que nos clients disent de nous</p>
            <div class="temoignage-grid">
                {% for t in temoignages %}
                <div class="temoignage-card">
                    <div class="quote-icon">"</div>
                    <div class="temoignage-content">
                        <p class="temoignage-text">"{{ t.texte }}"</p>
                        <div class="temoignage-author">{{ t.nom }}{% if t.localisation %} - {{ t.localisation }}{% endif %}</div>
                    </div>
                </div>
                {% empty %}
                <p style="color: var(--gris-clair); text-align: center; grid-column: 1/-1;">Les t√©moignages arrivent bient√¥t.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <section id="zone" class="section section-alt">
        <div class="container">
            <h2 class="section-title">Notre <span>Zone d'Intervention</span></h2>
            <div class="zone-content">
                <p>Nous intervenons principalement dans le Finist√®re et ses alentours :</p>
                <div style="background: var(--vert-fluo); color: var(--gris-fonce); padding: 2rem; border-radius: 15px; font-weight: 700; margin: 2rem 0;">
                    BREST ‚Ä¢ GUILERS ‚Ä¢ PLOUZAN√â ‚Ä¢ LE RELECQ-KERHUON ‚Ä¢ BOHARS ‚Ä¢ GOUESNOU ‚Ä¢ PLABENNEC ‚Ä¢ LANNILIS
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="section">
        <div class="container">
            <h2 class="section-title">Contactez-<span>nous</span></h2>
            <p class="section-subtitle">Demandez votre devis gratuit et sans engagement</p>

            <div class="contact-wrapper">
                <div class="contact-info">
                    <h3>Nos coordonn√©es</h3>
                    <div class="info-item">
                        <div class="info-icon">üìû</div>
                        <div>
                            <div><strong>06 50 03 47 77</strong></div>
                            <div>06 35 13 02 99</div>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">‚úâÔ∏è</div>
                        <div>performancehabitat29@gmail.com</div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">üè¢</div>
                        <div>Lieu-dit Penfeld - 29820 GUILERS</div>
                    </div>
                </div>

                <div class="contact-form">
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name">Nom et Pr√©nom</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">T√©l√©phone</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="service">Service souhait√©</label>
                            <select id="service" name="service" required>
                                <option value="">S√©lectionnez un service</option>
                                <option value="salle-de-bain">Salle de bain</option>
                                <option value="electricite">√âlectricit√©</option>
                                <option value="plomberie">Plomberie</option>
                                <option value="chauffage">Chauffage</option>
                                <option value="pompe-chaleur">Pompe √† chaleur</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="message">Description de votre projet</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>
                        <button type="submit" class="cta-button" style="width: 100%;">Envoyer ma demande</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-banner">
                AVEC PERFORMANCE HABITAT, VALORISEZ VOTRE PATRIMOINE IMMOBILIER
            </div>
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Performance Habitat</h4>
                    <p>Votre artisan local sp√©cialiste en r√©novation et am√©lioration √©nerg√©tique dans le Finist√®re.</p>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p><strong>06 50 03 47 77</strong></p>
                    <p>performancehabitat29@gmail.com</p>
                    <p>Lieu-dit Penfeld - 29820 GUILERS</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Performance Habitat. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <!-- MODAL GALERIE -->
    <div id="projectGalleryModal" class="modal-gallery">
        <div class="modal-gallery-content">
            <div class="modal-header">
                <div class="modal-title">
                    Galerie <span id="projectTitle">du Projet</span>
                </div>
                <button class="modal-close" onclick="closeProjectGallery()">&times;</button>
            </div>

            <div class="carousel-main">
                <img id="mainImage" src="" alt="Image principale">
                <div class="carousel-counter">
                    <span id="currentIndex">1</span> / <span id="totalImages">0</span>
                </div>
                <div class="carousel-controls">
                    <button class="carousel-btn" onclick="prevImage()">‚ùÆ</button>
                    <button class="carousel-btn" onclick="nextImage()">‚ùØ</button>
                </div>
            </div>

            <div class="thumbnails-section">
                <div class="thumbnails-title">Toutes les photos du projet</div>
                <div class="thumbnails-grid" id="thumbnailsGrid"></div>
            </div>

            <div class="modal-footer">
                <p>Cliquez sur une vignette pour afficher l'image. Utilisez les fl√®ches ou votre clavier pour naviguer.</p>
            </div>
        </div>
    </div>

    <script>
        // ===== SLIDER HERO =====
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slider-item');

        function initSliderDots() {
            const controlsContainer = document.getElementById('sliderControls');
            controlsContainer.innerHTML = '';
            for (let i = 0; i < slides.length; i++) {
                const dot = document.createElement('div');
                dot.className = 'slider-dot' + (i === 0 ? ' active' : '');
                dot.onclick = () => goToSlide(i);
                controlsContainer.appendChild(dot);
            }
        }

        function showSlide(n) {
            slides.forEach(slide => slide.classList.remove('active'));
            document.querySelectorAll('.slider-dot').forEach(dot => dot.classList.remove('active'));

            slides[n].classList.add('active');
            document.querySelectorAll('.slider-dot')[n].classList.add('active');
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        }

        function goToSlide(n) {
            currentSlide = n;
            showSlide(currentSlide);
        }

        setInterval(nextSlide, 5000);
        initSliderDots();

        // ===== MENU MOBILE =====
        function toggleMenu() {
            const navMenu = document.getElementById('navMenu');
            navMenu.classList.toggle('active');
        }

        document.querySelectorAll('.nav-menu a').forEach(link => {
            link.addEventListener('click', () => {
                document.getElementById('navMenu').classList.remove('active');
            });
        });

        // ===== FORMULAIRE =====
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Merci pour votre message ! Nous vous recontacterons rapidement.');
            this.reset();
        });

        // ===== GALERIE PROJETS =====
        const projects = {
            {% for projet in projects %}
            '{{ projet.id }}': {
                title: '{{ projet.titre|escapejs }}',
                images: [
                    '{{ projet.image.url }}',
                    {% for img in projet.images.all %}
                    '{{ img.image.url }}',
                    {% endfor %}
                ]
            },
            {% endfor %}
        };

        let currentProjectId = null;
        let currentImageIndex = 0;

        function openProjectGallery(projectId) {
            currentProjectId = projectId;
            currentImageIndex = 0;
            const project = projects[projectId];

            if (!project) return;

            document.getElementById('projectTitle').textContent = project.title;
            const thumbnailsGrid = document.getElementById('thumbnailsGrid');
            thumbnailsGrid.innerHTML = '';

            project.images.forEach((img, index) => {
                const thumb = document.createElement('div');
                thumb.className = `thumbnail ${index === 0 ? 'active' : ''}`;
                thumb.innerHTML = `<img src="${img}" alt="Photo ${index + 1}">`;
                thumb.onclick = () => goToImage(index);
                thumbnailsGrid.appendChild(thumb);
            });

            displayImage(0);
            document.getElementById('totalImages').textContent = project.images.length;
            document.getElementById('projectGalleryModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeProjectGallery() {
            document.getElementById('projectGalleryModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function displayImage(index) {
            const project = projects[currentProjectId];
            if (!project) return;

            const mainImg = document.getElementById('mainImage');
            mainImg.src = project.images[index];
            document.getElementById('currentIndex').textContent = index + 1;

            document.querySelectorAll('.thumbnail').forEach((thumb, i) => {
                thumb.classList.toggle('active', i === index);
            });

            currentImageIndex = index;
        }

        function nextImage() {
            const project = projects[currentProjectId];
            if (!project) return;
            currentImageIndex = (currentImageIndex + 1) % project.images.length;
            displayImage(currentImageIndex);
        }

        function prevImage() {
            const project = projects[currentProjectId];
            if (!project) return;
            currentImageIndex = (currentImageIndex - 1 + project.images.length) % project.images.length;
            displayImage(currentImageIndex);
        }

        function goToImage(index) {
            displayImage(index);
        }

        // Navigation clavier
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('projectGalleryModal').classList.contains('active')) {
                if (e.key === 'ArrowRight') nextImage();
                if (e.key === 'ArrowLeft') prevImage();
                if (e.key === 'Escape') closeProjectGallery();
            }
        });

        // Fermer en cliquant hors du modal
        document.getElementById('projectGalleryModal').addEventListener('click', (e) => {
            if (e.target.id === 'projectGalleryModal') {
                closeProjectGallery();
            }
        });

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    </script>
</body>
</html>