{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Performance Habitat - R√©novation Salle de Bain & Travaux Brest | Plomberie √âlectricit√© Finist√®re</title>
    <meta name="description" content="Performance Habitat : votre artisan expert en r√©novation de salle de bain, plomberie, √©lectricit√© et chauffage √† Brest et dans le Finist√®re. Devis gratuit ‚òé 06 50 03 47 77">
    <meta name="keywords" content="r√©novation salle de bain Brest, plomberie Finist√®re, √©lectricit√© Guilers, chauffage Plouzan√©, artisan Brest, travaux r√©novation 29, pompe √† chaleur Finist√®re, salle de bain PMR">
    <meta name="author" content="Performance Habitat">
    <meta name="copyright" content="Performance Habitat 2024">
    <meta name="robots" content="index, follow">
    <meta name="geo.region" content="FR-29">
    <meta name="geo.placename" content="Guilers, Brest, Finist√®re">
    <meta name="geo.position" content="48.4167;-4.5583">
    <meta name="ICBM" content="48.4167, -4.5583">

    <meta property="og:type" content="website">
    <meta property="og:title" content="Performance Habitat - R√©novation & Travaux Brest Finist√®re">
    <meta property="og:description" content="Votre artisan expert en r√©novation : salle de bain, plomberie, √©lectricit√©, chauffage. Devis gratuit ‚òé 06 50 03 47 77">
    <meta property="og:url" content="https://www.votresite.com">
    <meta property="og:image" content="{% static 'img/logo.png' %}">
    <meta property="og:locale" content="fr_FR">
    <meta property="og:site_name" content="Performance Habitat">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Performance Habitat - R√©novation Brest">
    <meta name="twitter:description" content="Artisan expert en r√©novation salle de bain, plomberie, √©lectricit√© dans le Finist√®re">
    <meta name="twitter:image" content="{% static 'img/logo.png' %}">

    <link rel="icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/apple-touch-icon.png' %}">
    <link rel="canonical" href="https://www.votresite.com/">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "Performance Habitat",
      "image": "{% static 'img/logo.png' %}",
      "description": "Artisan sp√©cialis√© en r√©novation de salle de bain, plomberie, √©lectricit√© et chauffage",
      "@id": "https://www.votresite.com",
      "url": "https://www.votresite.com",
      "telephone": "+33650034777",
      "priceRange": "‚Ç¨‚Ç¨",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Lieu-dit Penfeld",
        "addressLocality": "Guilers",
        "postalCode": "29820",
        "addressCountry": "FR"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 48.4167,
        "longitude": -4.5583
      },
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": [
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday"
        ],
        "opens": "08:00",
        "closes": "18:00"
      },
      "sameAs": [
        "https://www.instagram.com/performancehabitat29/",
        "https://web.facebook.com/profile.php?id=61583620142892"
      ],
      "areaServed": [
        {
          "@type": "City",
          "name": "Brest"
        },
        {
          "@type": "City",
          "name": "Guilers"
        },
        {
          "@type": "City",
          "name": "Plouzan√©"
        },
        {
          "@type": "City",
          "name": "Le Relecq-Kerhuon"
        }
      ],
      "foundingDate": "2013",
      "founder": {
        "@type": "Person",
        "name": "Performance Habitat"
      }
    }
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');
    </script>
</head>
<body>
    <!-- HEADER -->
    <!-- HEADER -->
<header class="footer">
    <div class="container">
        <div class="header-content">
            <!-- Logo -->
            <div class="logo">
                <img src="{% static 'img/logo.png' %}" alt="Performance Habitat Logo" class="logo-img">
                <div class="logo-text">
                    <div class="logo-title">Performance <span>Habitat</span></div>
                    <div class="logo-subtitle">NEUF & R√âNOVATION - Ensemble, assurons votre confort</div>
                </div>
            </div>

            <!-- Bouton menu burger -->
            <button class="menu-toggle" id="menuToggle" onclick="toggleMenu()">
                <span>‚ò∞</span>
            </button>

            <!-- Slogan (TOUJOURS VISIBLE avec le m√™me style) -->
            <div class="header-slogan-container">
                <div class="header-slogan">SUBLIMONS ET R√âNOVONS VOTRE HABITAT</div>
                <div class="header-creation-date">Entreprise cr√©√©e en 2013</div>
            </div>

            <!-- Navigation -->
            <ul class="nav-menu" id="navMenu">
                <li><a href="#accueil">Accueil</a></li>
                <li><a href="#apropos">√Ä propos</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#pompe-chaleur">Salle de bain cl√© en main</a></li>
                <li><a href="#realisations">R√©alisations</a></li>
                <li><a href="#temoignages">T√©moignages</a></li>
                <li><a href="#zone">Zone</a></li>
                <li><a href="#contact">Contact</a></li>
                <li>
                    <a href="https://www.instagram.com/performancehabitat29/" target="_blank" class="nav-instagram">
                        Instagram
                    </a>
                </li>
                <li>
                    <a href="https://web.facebook.com/profile.php?id=61583620142892" target="_blank" class="nav-facebook">
                        Facebook
                    </a>
                </li>
            </ul>
        </div>
    </div>
</header>

<!-- Overlay pour menu mobile -->
<div class="menu-overlay" id="menuOverlay" onclick="closeMenu()"></div>

    <!-- HERO SLIDER -->
    <section id="accueil" class="hero">
        <div class="slider-container">
            <!-- Overlay sombre -->
            <div class="slider-overlay"></div>

            <div class="slider-item active">
                <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1200&h=600&fit=crop" alt="projet 0">
            </div>

            <div class="slider-item">
                <img src="{% static 'img/2.jpeg' %}" alt="Projet 2">
            </div>

            <div class="slider-item">
                <img src="{% static 'img/4.jpg' %}" alt="Projet 4">
            </div>

            <div class="slider-item">
                <img src="{% static 'img/3.jpeg' %}" alt="Projet 3">
            </div>

            <div class="slider-item">
                <img src="{% static 'img/s1.jpeg' %}" alt="Projet 1">
            </div>

            <div class="hero-content">
                <h1>L'interlocuteur <span>unique pour tous vos travaux</span></h1>
                <p class="services">Plomberie - Chauffage - √âlectricit√© - Carrelage & Sols - Cloisons S√®ches - Peinture</p>
                <button class="cta-button" onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'})">Demander un devis gratuit</button>
            </div>

            <div class="slider-controls" id="sliderControls"></div>
            <div class="slider-arrow slider-prev" onclick="prevSlide()">‚ùÆ</div>
            <div class="slider-arrow slider-next" onclick="nextSlide()">‚ùØ</div>
        </div>
    </section>

    <!-- √Ä PROPOS -->
    <section id="apropos" class="footer">
        <div class="container">
            <h2 class="section-title">√Ä propos de <span>Performance Habitat</span></h2>
            <p class="section-subtitle">Votre artisan sp√©cialiste en r√©novation et am√©lioration √©nerg√©tique</p>

            <div class="about-content">
                <div class="about-text">
                    <h3>Votre expert en r√©novation</h3>
                    <p>Performance Habitat, entreprise de proximit√© cr√©√©e en 2013,
                        sera votre partenaire privil√©gi√© pour tous vos projets de r√©novation et d'am√©lioration de l'habitat dans la r√©gion brestoise.</p>
                    <p>Performance Habitat est votre interlocuteur unique pour tous vos travaux int√©rieurs, de A √† Z : √©lectricit√©, plomberie, plaques de pl√¢tre, sols et peinture.</p>
                    <p>Nos principaux atouts sont le professionnalisme, la satisfaction de nos clients et la proximit√© avec vous.</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">15+</div>
                        <div class="stat-label">Ann√©es d'exp√©rience</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">Projets r√©alis√©s</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Clients satisfaits</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SERVICES -->
    <section id="services" class="footer">
        <div class="container">
            <h2 class="section-title">AVEC NOS SERVICES... <span>TOUS VOS PROJETS CL√â EN MAIN</span></h2>
            <p class="section-subtitle">Des solutions compl√®tes pour tous vos projets de r√©novation</p>
            <div class="services-grid">
                {% for service in services %}
                <div class="service-card">
                    {% if service.image %}
                    <div class="service-image">
                        <img src="{{ service.image.url }}" alt="{{ service.titre }}" class="service-img">


                    </div>
                    {% endif %}
                    <div class="service-card-content">
                        <h3>{{ service.titre }}</h3>
                        <p>{{ service.description }}</p>
                        {% if service.details.all %}
                        <ul>
                            {% for detail in service.details.all %}
                            <li>{{ detail.texte }}</li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                    </div>
                </div>
                {% empty %}
                <p style="color: var(--gris-clair); text-align: center; grid-column: 1/-1;">Nos services seront bient√¥t disponibles.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- SALLE DE BAIN -->
    <section id="pompe-chaleur" class="footer">
        <div class="container">
            <h2 class="section-title">
                Performance Habitat, entreprise sp√©cialis√©e dans
                <span>la salle de bain cl√© en main</span>
                <small> &amp; </small>
                <span class="highlight">la salle de bain PMR</span>
            </h2>

            <div class="pompe-chaleur-content">
                <!-- Partie Texte √† Gauche -->
                <div class="pompe-chaleur-text">
                    <h3 class="uppercase font-bold">Parlez-nous de vos go√ªts et envies, Performance Habitat s'occupe du reste</h3>

                    <h4>CONCEPTION, R√âALISATION ET CHOIX DE QUALIT√â... UNE PLUS-VALUE POUR VOTRE MAISON</h4>

                    <h4 style="font-size: 1.2rem; margin-bottom: 1rem;">
                        <span style="color: var(--vert-fluo);">Choisir Performance Habitat</span>,
                        c'est s'assurer d'une salle de bain de qualit√©.
                    </h4>

                    <p class="text-lg" style="line-height: 1.8;">
                        En effet, nous vous proposerons et insisterons toujours sur le choix de mat√©riaux professionnels
                        pour une salle de bain qui durera dans le temps et vous apportera un r√©el plaisir au quotidien.
                    </p>

                    <p class="text-lg" style="line-height: 1.8; margin-top: 1rem;">
                        Du sanitaire aux √©l√©ments de d√©coration, nous vous conseillerons et r√©fl√©chirons avec vous
                        √† sa conception optimale, en nous adaptant au mieux √† votre chez-vous.
                    </p>

                    <p class="text-lg" style="line-height: 1.8; margin-top: 1rem;">
                        <strong>Une salle de bain chez Performance Habitat, c'est avant tout un endroit de paix
                        o√π l'on se sent bien‚Ä¶</strong>
                    </p>
                </div>

                <!-- Galerie Images Avant/Apr√®s √† Droite -->
                <div class="bathroom-gallery">
                    <h3>Nos R√©alisations - Avant / Apr√®s</h3>

                    <div class="gallery-grid">
                        <!-- Projet 1 -->
                        <div class="gallery-item" onclick="openLightbox(0)">
                            <div style="position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer;">
                                <img src="{% static 'img/avant1.jpeg' %}" alt="Salle de bain avant r√©novation 1">
                                <div style="position: absolute; top: 10px; left: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 12px; letter-spacing: 1px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                                    AVANT
                                </div>
                            </div>
                        </div>

                        <div class="gallery-item" onclick="openLightbox(1)">
                            <div style="position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer;">
                                <img src="{% static 'img/apres1.jpeg' %}" alt="Salle de bain apr√®s r√©novation 1">
                                <div style="position: absolute; top: 10px; left: 10px; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 12px; letter-spacing: 1px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                                    APR√àS
                                </div>
                            </div>
                        </div>

                        <!-- Projet 2 -->
                        <div class="gallery-item" onclick="openLightbox(2)">
                            <div style="position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer;">
                                <img src="{% static 'img/avant2.jpeg' %}" alt="Salle de bain avant r√©novation 2">
                                <div style="position: absolute; top: 10px; left: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 12px; letter-spacing: 1px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                                    AVANT
                                </div>
                            </div>
                        </div>

                        <div class="gallery-item" onclick="openLightbox(3)">
                            <div style="position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer;">
                                <img src="{% static 'img/apres2.jpeg' %}" alt="Salle de bain apr√®s r√©novation 2">
                                <div style="position: absolute; top: 10px; left: 10px; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 12px; letter-spacing: 1px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                                    APR√àS...
                                </div>
                            </div>
                        </div>

                        <!-- Projet 3 -->
                        <div class="gallery-item" onclick="openLightbox(4)">
                            <div style="position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer;">
                                <img src="{% static 'img/avant4.jpeg' %}" alt="Salle de bain avant r√©novation 4">
                                <div style="position: absolute; top: 10px; left: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 12px; letter-spacing: 1px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                                    AVANT
                                </div>
                            </div>
                        </div>

                        <div class="gallery-item" onclick="openLightbox(5)">
                            <div style="position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer;">
                                <img src="{% static 'img/apres4.jpeg' %}" alt="Salle de bain apr√®s r√©novation 4">
                                <div style="position: absolute; top: 10px; left: 10px; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 12px; letter-spacing: 1px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                                    APR√àS
                                </div>
                            </div>
                        </div>

                        <!-- Projet 4 -->
                        <div class="gallery-item" onclick="openLightbox(6)">
                            <div style="position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer;">
                                <img src="{% static 'img/avant3.jpeg' %}" alt="Salle de bain avant r√©novation 3">
                                <div style="position: absolute; top: 10px; left: 10px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 12px; letter-spacing: 1px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                                    AVANT
                                </div>
                            </div>
                        </div>

                        <div class="gallery-item" onclick="openLightbox(7)">
                            <div style="position: relative; overflow: hidden; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer;">
                                <img src="{% static 'img/apres3.jpeg' %}" alt="Salle de bain apr√®s r√©novation 3">
                                <div style="position: absolute; top: 10px; left: 10px; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 12px; letter-spacing: 1px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                                    APR√àS
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- R√âALISATIONS -->
    <section id="realisations" class="footer">
        <div class="container">
            <h2 class="section-title">Nos <span>R√©alisations</span></h2>
            <h2 class="section-title"> <span>ENSEMBLE, ASSURONS VOTRE CONFORT</span></h2>
            <p class="section-subtitle">D√©couvrez quelques-uns de nos projets r√©cents</p>

            <div class="realisation-grid">
                {% for projet in projects %}
                <div class="realisation-card" onclick="openProjectGallery('{{ projet.id }}')">
                    {% if projet.image %}
                    <div class="realisation-image">
                        <img src="{{ projet.image.url }}" alt="{{ projet.titre }}">
                        {% if projet.images.count > 0 %}
                        <div class="image-badge">
                            üì∑ +{{ projet.images.count }} photos
                        </div>
                        {% endif %}
                    </div>
                    {% endif %}
                    <div class="realisation-content">
                        <h3>{{ projet.titre }}</h3>
                        <p>{{ projet.description|safe|truncatewords_html:30 }}</p>
                    </div>
                </div>
                {% empty %}
                <p style="color: var(--gris-clair); text-align: center; grid-column: 1/-1;">Nos r√©alisations seront bient√¥t disponibles.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- T√âMOIGNAGES -->
    <section id="temoignages" class="footer">
        <div class="container">
            <h2 class="section-title">T√©moignages <span>Clients</span></h2>
            <p class="section-subtitle">Ce que nos clients disent de nous</p>
            <div class="temoignage-grid">
                {% for t in temoignages %}
                <div class="temoignage-card">
                    <div class="quote-icon">"</div>
                    <div class="temoignage-content">
                        <p class="temoignage-text">"{{ t.texte }}"</p>
                        <div class="temoignage-author">{{ t.nom }}{% if t.localisation %} - {{ t.localisation }}{% endif %}</div>
                    </div>
                </div>
                {% empty %}
                <p style="color: var(--gris-clair); text-align: center; grid-column: 1/-1;">Les t√©moignages arrivent bient√¥t.</p>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- ZONE D'INTERVENTION -->
    <section id="zone" class="footer">
        <div class="container">
            <h2 class="section-title">Notre <span>Zone d'Intervention</span></h2>
            <div class="zone-content">
                <p style="text-align: center; margin-bottom: 1.5rem; color: var(--gris-clair);">Nous intervenons principalement dans le Finist√®re et ses alentours :</p>
                <div style="background: var(--vert-fluo); color: var(--gris-fonce); padding: 2rem; border-radius: 15px; font-weight: 700; margin: 2rem 0; text-align: center; line-height: 1.6;">
                    BREST ‚Ä¢ GUILERS ‚Ä¢ PLOUZAN√â ‚Ä¢ LE RELECQ-KERHUON ‚Ä¢ BOHARS ‚Ä¢ GOUESNOU ‚Ä¢ PLABENNEC ‚Ä¢ LANNILIS
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="footer">
        <div class="container">
            <h2 class="section-title">Contactez-<span>nous</span></h2>
            <p class="section-subtitle">Demandez votre devis gratuit et sans engagement</p>

            <div class="contact-wrapper">
                <div class="contact-info">
                    <h3>Nos coordonn√©es</h3>
                    <div class="info-item">
                        <div class="info-icon">üìû</div>
                        <div>
                            <div><strong>06 50 03 47 77</strong></div>
                            <div>06 35 13 02 99</div>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">‚úâÔ∏è</div>
                        <div>performancehabitat29@gmail.com</div>
                    </div>
                    <div class="info-item">
                        <div class="info-icon">üè¢</div>
                        <div>Lieu-dit Penfeld - 29820 GUILERS</div>
                    </div>
                </div>

                <div class="contact-form">
                    <form id="contactForm" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="name">Nom et Pr√©nom</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">T√©l√©phone</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="service">Service souhait√©</label>
                            <select id="service" name="service" required>
                                <option value="">S√©lectionnez un service</option>
                                <option value="salle-de-bain">Salle de bain</option>
                                <option value="electricite">√âlectricit√©</option>
                                <option value="plomberie">Plomberie</option>
                                <option value="chauffage">Chauffage</option>
                                <option value="pompe-chaleur">Pompe √† chaleur</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="message">Description de votre projet</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>

                        <div class="form-group">
                            <label for="files">Photos de la pi√®ce √† r√©nover (optionnel)</label>
                            <div class="file-upload-wrapper">
                                <input type="file" id="files" name="files[]" multiple accept="image/*,.pdf" class="file-input">
                                <label for="files" class="file-label">
                                    <span class="file-icon">üìé</span>
                                    <span class="file-text">Cliquez pour ajouter des photos</span>
                                </label>
                                <div id="fileList" class="file-list"></div>
                            </div>
                            <small class="file-info">Formats accept√©s : JPG, PNG, PDF (max 5 fichiers, 5 Mo chacun)</small>
                        </div>

                        <button type="submit" class="cta-button" style="width: 100%;">Envoyer ma demande</button>
                    </form>
                    <div id="formMessage"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="container">
            <div class="footer-banner">
                AVEC PERFORMANCE HABITAT, VALORISEZ VOTRE PATRIMOINE IMMOBILIER
            </div>
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Performance Habitat</h4>
                    <p>Votre artisan local sp√©cialiste en r√©novation et am√©lioration √©nerg√©tique dans le Finist√®re.</p>
                </div>
                <div class="footer-section">
                    <h4>Contact</h4>
                    <p><strong>06 50 03 47 77</strong></p>
                    <p>performancehabitat29@gmail.com</p>
                    <p>Lieu-dit Penfeld - 29820 GUILERS</p>
                    <p>N¬∞ SIRET : 793 768 565 00012 / Capital social : 12 500 ‚Ç¨</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Performance Habitat. Tous droits r√©serv√©s.</p>
            </div>
        </div>
    </footer>

    <!-- MODAL GALERIE PROJETS -->
    <div id="projectGalleryModal" class="modal-gallery">
        <div class="modal-gallery-content">
            <div class="modal-header">
                <div class="modal-title">
                    Galerie <span id="projectTitle">du Projet</span>
                </div>
                <button class="modal-close" onclick="closeProjectGallery()">&times;</button>
            </div>

            <div class="carousel-main">
                <img id="mainImage" src="" alt="Image principale">
                <div class="carousel-counter">
                    <span id="currentIndex">1</span> / <span id="totalImages">0</span>
                </div>
                <div class="carousel-controls">
                    <button class="carousel-btn" onclick="prevImage()">‚ùÆ</button>
                    <button class="carousel-btn" onclick="nextImage()">‚ùØ</button>
                </div>
            </div>

            <div class="thumbnails-section">
                <div class="thumbnails-title">Toutes les photos du projet</div>
                <div class="thumbnails-grid" id="thumbnailsGrid"></div>
            </div>

            <div class="modal-footer">
                <p>Cliquez sur une vignette pour afficher l'image. Utilisez les fl√®ches ou votre clavier pour naviguer.</p>
            </div>
        </div>
    </div>

    <!-- LIGHTBOX AVANT/APR√àS -->
    <div id="lightbox" class="lightbox">
        <span class="close-lightbox" onclick="closeLightbox()">&times;</span>
        <span class="prev-lightbox" onclick="changeSlide(-1)">&#10094;</span>
        <span class="next-lightbox" onclick="changeSlide(1)">&#10095;</span>

        <div class="lightbox-content">
            <img id="lightbox-image" src="" alt="">
            <div id="lightbox-badge" class="lightbox-badge"></div>
            <div class="lightbox-counter">
                <span id="current-slide">1</span> / <span id="total-slides">8</span>
            </div>
        </div>
    </div>

    <!-- SCRIPT JAVASCRIPT -->
    <script>
// ===== 1. MENU BURGER =====
function toggleMenu() {
    const navMenu = document.getElementById('navMenu');
    const menuOverlay = document.getElementById('menuOverlay');

    navMenu.classList.toggle('active');
    menuOverlay.classList.toggle('active');
    document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : 'auto';
}

function closeMenu() {
    const navMenu = document.getElementById('navMenu');
    const menuOverlay = document.getElementById('menuOverlay');

    navMenu.classList.remove('active');
    menuOverlay.classList.remove('active');
    document.body.style.overflow = 'auto';
}

// Ferme le menu au clic sur un lien
document.querySelectorAll('.nav-menu a').forEach(link => {
    link.addEventListener('click', closeMenu);
});

// ===== 2. SLIDER HERO =====
let heroCurrentSlide = 0;
const heroSlides = document.querySelectorAll('.slider-item');

function initSliderDots() {
    const controlsContainer = document.getElementById('sliderControls');
    if (!controlsContainer) return;

    controlsContainer.innerHTML = '';
    for (let i = 0; i < heroSlides.length; i++) {
        const dot = document.createElement('div');
        dot.className = 'slider-dot' + (i === 0 ? ' active' : '');
        dot.onclick = () => goToSlide(i);
        controlsContainer.appendChild(dot);
    }
}

function showSlide(n) {
    heroSlides.forEach(slide => slide.classList.remove('active'));
    document.querySelectorAll('.slider-dot').forEach(dot => dot.classList.remove('active'));
    heroSlides[n].classList.add('active');
    const dots = document.querySelectorAll('.slider-dot');
    if (dots[n]) dots[n].classList.add('active');
}

function nextSlide() {
    heroCurrentSlide = (heroCurrentSlide + 1) % heroSlides.length;
    showSlide(heroCurrentSlide);
}

function prevSlide() {
    heroCurrentSlide = (heroCurrentSlide - 1 + heroSlides.length) % heroSlides.length;
    showSlide(heroCurrentSlide);
}

function goToSlide(n) {
    heroCurrentSlide = n;
    showSlide(heroCurrentSlide);
}

// Initialisation du slider hero
if (heroSlides.length > 0) {
    initSliderDots();
    setInterval(nextSlide, 5000);
}

// ===== 3. LIGHTBOX AVANT/APR√àS =====
const bathroomGalleryImages = [
    { src: "{% static 'img/avant1.jpeg' %}", alt: "Salle de bain avant r√©novation 1", type: "AVANT PASSAGE PERFORMANCE HABITAT" },
    { src: "{% static 'img/apres1.jpeg' %}", alt: "Salle de bain apr√®s r√©novation 1", type: "APR√àS PASSAGE PERFORMANCE HABITAT" },
    { src: "{% static 'img/avant2.jpeg' %}", alt: "Salle de bain avant r√©novation 2", type: "AVANT PASSAGE PERFORMANCE HABITAT" },
    { src: "{% static 'img/apres2.jpeg' %}", alt: "Salle de bain apr√®s r√©novation 2", type: "APR√àS PASSAGE PERFORMANCE HABITAT" },
    { src: "{% static 'img/avant4.jpeg' %}", alt: "Salle de bain avant r√©novation 4", type: "AVANT PASSAGE PERFORMANCE HABITAT" },
    { src: "{% static 'img/apres4.jpeg' %}", alt: "Salle de bain apr√®s r√©novation 4", type: "APR√àS PASSAGE PERFORMANCE HABITAT" },
    { src: "{% static 'img/avant3.jpeg' %}", alt: "Salle de bain avant r√©novation 3", type: "AVANT PASSAGE PERFORMANCE HABITAT" },
    { src: "{% static 'img/apres3.jpeg' %}", alt: "Salle de bain apr√®s r√©novation 3", type: "APR√àS PASSAGE PERFORMANCE HABITAT" }
];

let currentLightboxIndex = 0;

function openLightbox(index) {
    currentLightboxIndex = index;
    showLightboxSlide(currentLightboxIndex);
    const lightbox = document.getElementById('lightbox');
    if (lightbox) {
        lightbox.style.display = 'block';
        document.body.style.overflow = 'hidden';
    }
}

function closeLightbox() {
    const lightbox = document.getElementById('lightbox');
    if (lightbox) {
        lightbox.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
}

function changeSlide(direction) {
    currentLightboxIndex += direction;
    if (currentLightboxIndex >= bathroomGalleryImages.length) {
        currentLightboxIndex = 0;
    } else if (currentLightboxIndex < 0) {
        currentLightboxIndex = bathroomGalleryImages.length - 1;
    }
    showLightboxSlide(currentLightboxIndex);
}

function showLightboxSlide(index) {
    const image = bathroomGalleryImages[index];

    const lightboxImage = document.getElementById('lightbox-image');
    const currentSlideElem = document.getElementById('current-slide');
    const totalSlidesElem = document.getElementById('total-slides');
    const badge = document.getElementById('lightbox-badge');

    if (lightboxImage) lightboxImage.src = image.src;
    if (lightboxImage) lightboxImage.alt = image.alt;

    if (currentSlideElem) currentSlideElem.textContent = index + 1;
    if (totalSlidesElem) totalSlidesElem.textContent = bathroomGalleryImages.length;

    if (badge) {
        badge.textContent = image.type;
        badge.style.background = image.type.includes('AVANT') ?
            'rgba(255,0,0,0.8)' : 'rgba(0,200,0,0.8)';
    }
}

// ===== 4. SMOOTH SCROLL =====
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({ behavior: 'smooth' });
        }
    });
});

// ===== 5. GESTION UPLOAD FICHIERS =====
const fileInput = document.getElementById('files');
const fileList = document.getElementById('fileList');
let selectedFiles = [];

if (fileInput) {
    fileInput.addEventListener('change', function(e) {
        const files = Array.from(e.target.files);

        if (selectedFiles.length + files.length > 5) {
            alert('Maximum 5 fichiers autoris√©s');
            return;
        }

        files.forEach(file => {
            if (file.size > 5 * 1024 * 1024) {
                alert(`${file.name} est trop volumineux (max 5 Mo)`);
                return;
            }
            selectedFiles.push(file);
            displayFile(file);
        });

        updateFileLabel();
    });
}

function displayFile(file) {
    if (!fileList) return;

    const fileItem = document.createElement('div');
    fileItem.className = 'file-item';

    const fileName = document.createElement('span');
    fileName.className = 'file-item-name';
    fileName.textContent = file.name;

    const fileSize = document.createElement('span');
    fileSize.className = 'file-item-size';
    fileSize.textContent = formatFileSize(file.size);

    const removeBtn = document.createElement('button');
    removeBtn.className = 'file-remove';
    removeBtn.textContent = '‚úï';
    removeBtn.type = 'button';
    removeBtn.onclick = () => removeFile(file, fileItem);

    fileItem.appendChild(fileName);
    fileItem.appendChild(fileSize);
    fileItem.appendChild(removeBtn);
    fileList.appendChild(fileItem);
}

function removeFile(file, fileItem) {
    selectedFiles = selectedFiles.filter(f => f !== file);
    fileItem.remove();
    updateFileLabel();
}

function formatFileSize(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'Ko', 'Mo'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
}

function updateFileLabel() {
    const fileText = document.querySelector('.file-text');
    if (fileText) {
        if (selectedFiles.length === 0) {
            fileText.textContent = 'Cliquez pour ajouter des photos';
        } else {
            fileText.textContent = `${selectedFiles.length} fichier(s) s√©lectionn√©(s)`;
        }
    }
}

// ===== 6. ENVOI FORMULAIRE CONTACT =====
const contactForm = document.getElementById('contactForm');
if (contactForm) {
    contactForm.addEventListener('submit', function(e) {
        e.preventDefault();

        const formData = new FormData(this);
        const submitBtn = this.querySelector('button[type="submit"]');
        const formMessage = document.getElementById('formMessage');

        formData.delete('files[]');
        selectedFiles.forEach(file => {
            formData.append('files[]', file);
        });

        submitBtn.disabled = true;
        submitBtn.textContent = 'Envoi en cours...';
        if (formMessage) formMessage.innerHTML = '';

        fetch(window.location.href, {
            method: 'POST',
            body: formData,
            headers: {
                'X-Requested-With': 'XMLHttpRequest',
                'X-CSRFToken': getCookie('csrftoken')
            },
            credentials: 'same-origin'
        })
        .then(response => {
            if (!response.ok) throw new Error('Erreur r√©seau');
            return response.json();
        })
        .then(data => {
            if (formMessage) {
                if (data.success) {
                    formMessage.innerHTML = `<div style="background: #4ade80; color: white; padding: 1rem; border-radius: 8px; margin-top: 1rem;">${data.message}</div>`;
                    contactForm.reset();
                    selectedFiles = [];
                    if (fileList) fileList.innerHTML = '';
                    updateFileLabel();
                } else {
                    formMessage.innerHTML = `<div style="background: #ef4444; color: white; padding: 1rem; border-radius: 8px; margin-top: 1rem;">${data.message}</div>`;
                }
            }
            submitBtn.disabled = false;
            submitBtn.textContent = 'Envoyer ma demande';
        })
        .catch(error => {
            if (formMessage) {
                formMessage.innerHTML = '<div style="background: #ef4444; color: white; padding: 1rem; border-radius: 8px; margin-top: 1rem;">Erreur lors de l\'envoi. Veuillez r√©essayer ou nous contacter par t√©l√©phone.</div>';
            }
            submitBtn.disabled = false;
            submitBtn.textContent = 'Envoyer ma demande';
        });
    });
}

// ===== 7. FONCTION CSRF TOKEN =====
function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

// ===== 8. NAVIGATION CLAVIER =====
document.addEventListener('keydown', (e) => {
    // Lightbox
    const lightbox = document.getElementById('lightbox');
    if (lightbox && lightbox.style.display === 'block') {
        if (e.key === 'ArrowRight') changeSlide(1);
        if (e.key === 'ArrowLeft') changeSlide(-1);
        if (e.key === 'Escape') closeLightbox();
    }

    // Menu burger
    if (e.key === 'Escape') {
        closeMenu();
    }
});

// ===== 9. GALERIE PROJETS (R√âALISATIONS) =====
const projects = {
    {% for projet in projects %}
    '{{ projet.id }}': {
        title: '{{ projet.titre|escapejs }}',
        images: [
            '{{ projet.image.url }}',
            {% for img in projet.images.all %}
            '{{ img.image.url }}',
            {% endfor %}
        ]
    },
    {% endfor %}
};

let currentProjectId = null;
let projectCurrentImageIndex = 0;

function openProjectGallery(projectId) {
    currentProjectId = projectId;
    projectCurrentImageIndex = 0;
    const project = projects[projectId];
    if (!project) return;

    const projectTitleElem = document.getElementById('projectTitle');
    if (projectTitleElem) {
        projectTitleElem.textContent = project.title;
    }

    const thumbnailsGrid = document.getElementById('thumbnailsGrid');
    if (thumbnailsGrid) {
        thumbnailsGrid.innerHTML = '';
        project.images.forEach((img, index) => {
            const thumb = document.createElement('div');
            thumb.className = `thumbnail ${index === 0 ? 'active' : ''}`;
            thumb.innerHTML = `<img src="${img}" alt="Photo ${index + 1}">`;
            thumb.onclick = () => goToImage(index);
            thumbnailsGrid.appendChild(thumb);
        });
    }

    displayImage(0);

    const totalImagesElem = document.getElementById('totalImages');
    if (totalImagesElem) {
        totalImagesElem.textContent = project.images.length;
    }

    const modal = document.getElementById('projectGalleryModal');
    if (modal) {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
}

function closeProjectGallery() {
    const modal = document.getElementById('projectGalleryModal');
    if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = 'auto';
    }
}

function displayImage(index) {
    const project = projects[currentProjectId];
    if (!project) return;

    const mainImg = document.getElementById('mainImage');
    const currentIndexElem = document.getElementById('currentIndex');

    if (mainImg) mainImg.src = project.images[index];
    if (currentIndexElem) currentIndexElem.textContent = index + 1;

    document.querySelectorAll('.thumbnail').forEach((thumb, i) => {
        thumb.classList.toggle('active', i === index);
    });

    projectCurrentImageIndex = index;
}

function nextImage() {
    const project = projects[currentProjectId];
    if (!project) return;
    projectCurrentImageIndex = (projectCurrentImageIndex + 1) % project.images.length;
    displayImage(projectCurrentImageIndex);
}

function prevImage() {
    const project = projects[currentProjectId];
    if (!project) return;
    projectCurrentImageIndex = (projectCurrentImageIndex - 1 + project.images.length) % project.images.length;
    displayImage(projectCurrentImageIndex);
}

function goToImage(index) {
    displayImage(index);
}

// Navigation clavier pour galerie projets
document.addEventListener('keydown', (e) => {
    const modal = document.getElementById('projectGalleryModal');
    if (modal && modal.classList.contains('active')) {
        if (e.key === 'ArrowRight') nextImage();
        if (e.key === 'ArrowLeft') prevImage();
        if (e.key === 'Escape') closeProjectGallery();
    }
});

// Fermeture modal au clic ext√©rieur
const projectModal = document.getElementById('projectGalleryModal');
if (projectModal) {
    projectModal.addEventListener('click', (e) => {
        if (e.target.id === 'projectGalleryModal') {
            closeProjectGallery();
        }
    });
}

// Fermeture lightbox au clic ext√©rieur
const lightboxElement = document.getElementById('lightbox');
if (lightboxElement) {
    lightboxElement.addEventListener('click', function(e) {
        if (e.target === this) closeLightbox();
    });
}

console.log('‚úÖ Site Performance Habitat charg√© avec succ√®s');
    </script>
</body>
</html>